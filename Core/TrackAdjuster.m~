classdef TrackAdjuster
    %TRACKADJUSTER 轨迹调整器

    properties(Constant)

    end

    properties

    end

    methods
        function obj = TrackAdjuster()

        end
    end


    methods(Static)

        % 矩阵旋转——默认是按照[0,0]进行旋转，输入为角度
        function P = rotate2D(x, y, angle, cx, cy)
            % ROTATE2D 对二维轨迹进行旋转
            % 输入参数:
            %   - x, y: 轨迹的原始 x 和 y 坐标，向量形式
            %   - angle: 旋转角度，单位为弧度
            %   - cx, cy: 旋转中心的 x 和 y 坐标（默认为 [0, 0]）
            % 输出参数:
            %   - P: 旋转后的坐标矩阵，第一行是 x，第二行是 y

            % 如果未指定旋转中心，则默认使用 (0, 0)
            if nargin < 4
                cx = 0;
                cy = 0;
            end
            
            % 创建旋转矩阵
            angle = angle / 180 * pi;%输入为角度，改成弧度
            rotation_matrix = [cos(angle), -sin(angle); sin(angle), cos(angle)];

            % 将 x 和 y 组合成 2xN 矩阵
            coordinates = [x - cx; y - cy];  % 平移到原点

            % 进行矩阵乘法，旋转坐标
            rotated_coordinates = rotation_matrix * coordinates;

            % 恢复到原来的位置
            x_rotated = rotated_coordinates(1, :) + cx;
            y_rotated = rotated_coordinates(2, :) + cy;
            P = [x_rotated; y_rotated];
        end




    end

end

